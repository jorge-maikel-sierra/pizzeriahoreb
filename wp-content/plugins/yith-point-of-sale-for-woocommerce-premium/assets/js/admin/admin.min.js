!function(d){var t=function(){d(document).find(".no-bottom").closest(".the-metabox").addClass("no-bottom"),d(document).find(".no-bottom").closest(".yith-toggle-content-row").addClass("no-bottom"),d(document).find(".no-top").closest(".the-metabox").addClass("no-top"),d(document).find(".no-top").closest(".yith-toggle-content-row").addClass("no-top"),d(document).find(".yith-plugin-fw-hidden-field-wrapper").closest(".yith-add-box-row").hide()},i=function(){var t=d(document).find(".wp-list-table tr.type-yith-pos-register");0<t.length&&d.each(t,function(){var t=d(this),e=t.find(".yith-pos-register-toggle-enabled input").val(),o=t.find(".edit"),s=o.html().replace(" | ",""),t=t.find(".open-register");o.html(s),"yes"!=e?t.hide():(o.html(s+" | "),t.show())})};i(),d(document).on("yith-add-box-button-toggle",t),t(),d(document).on("click",".yith-pos-compact-list__show-more, .yith-pos-compact-list__hide-more",function(t){t.stopPropagation();var e=d(this).closest(".yith-pos-compact-list"),t=e.find(".yith-pos-compact-list__hidden-items");e.toggleClass("yith-pos-compact-list--open"),t.length&&(e.is(".yith-pos-compact-list--open")?t.slideDown(300):t.slideUp(300))}),d(document).on("change",".yith-pos-store-toggle-enabled input",function(){var t="yes"===d(this).val()?"yes":"no",e=d(this).closest(".yith-pos-store-toggle-enabled"),o=e.data("store-id"),s=e.data("security");e.block(yith_pos.blockParams),d.ajax({type:"POST",data:{action:"yith_pos_store_toggle_enabled",id:o,enabled:t,security:s},url:ajaxurl,success:function(t){"undefined"!=typeof t.error&&alert(t.error)},complete:function(){e.unblock()}})}),d(document).on("change",".yith-pos-register-toggle-enabled input",function(){var t="yes"===d(this).val()?"yes":"no",e=d(this).closest(".yith-pos-register-toggle-enabled"),o=e.data("register-id"),s=e.data("security");e.block(yith_pos.blockParams),d.ajax({type:"POST",data:{action:"yith_pos_register_toggle_enabled",id:o,enabled:t,security:s},url:ajaxurl,success:function(t){"undefined"!=typeof t.error&&alert(t.error)},complete:function(){e.unblock(),i()}})}),d(".yith-pos-create-user-form__container").each(function(){var s=d(this),t=s.find(".yith-pos-create-user-form"),e=s.find(".yith-pos-create-user-form__add"),o=s.data("select2-to-populate"),i=o?d(o):{},n=t.find(".yith-pos-create-user-form__field"),a=t.find(".yith-pos-create-user-form__message"),c=function(){t.slideDown(300),s.addClass("yith-pos-create-user-form--open")},r=function(){t.slideUp(300),s.removeClass("yith-pos-create-user-form--open")},l=function(){t.find(".yith-pos-create-user-form__field--to-reset").val("")};e.on("click",function(){s.is(".yith-pos-create-user-form--open")?(r(),e.html(e.data("text")).removeClass("closed")):(c(),yith_pos.scrollTo(e),e.html(e.data("close-text")).addClass("closed"))}),s.on("click",".yith-pos-create-user-form__save",function(){var t,e,o={};a.html(""),n.each(function(){d(this).trigger("validate_field"),t=d(this).data("name"),e=d(this).val(),o[t]=e}),0===s.find(".validate-error").length&&(s.block(yith_pos.blockParams),d.ajax({type:"POST",data:o,url:ajaxurl,success:function(t){var e;"undefined"!=typeof t.success&&t.success?i&&i.length&&(e=new Option(t.user_name_html,t.user_id,!0,!0),i.append(e).trigger("change"),yith_pos.scrollTo(i),l(),r()):a.html('<p class="validate-error">'+t.error+"</p>")},complete:function(){s.unblock()}}))})}),d(document).on("click",".yith-pos-settings-box__toggle",function(t){var e=d(t.target).closest(".yith-pos-settings-box"),t=e.find(".yith-pos-settings-box__content");e.is(".yith-pos-settings-box--closed")?t.slideDown(400):t.slideUp(400),e.toggleClass("yith-pos-settings-box--closed")}),d(document).on("click",".yith-pos-admin-notice__dismiss",function(){d(this).closest(".yith-pos-admin-notice").fadeOut(300)});d("body").hasClass("edit-php")&&(t=d(".post_type_page").val(),["yith-pos-store","yith-pos-register","yith-pos-receipt"].includes(t)&&(t=t.replace("yith-pos-","")+"-description","undefined"!=typeof yith_pos_admin.i18n[t]&&d('<div class="list-table-description">'+yith_pos_admin.i18n[t]+"</div>").insertBefore("hr.wp-header-end"),d(".yith-pos-admin-notice").insertBefore("hr.wp-header-end")))}(jQuery);